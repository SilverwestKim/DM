x
x=content(GET(sublink[2]))
x=content(GET(sublink[2],Encoding('utf-8')))
k[1]
x=read_html(sublink[2])
x=read_html(sublink[2],encoding = 'utf-8')
x=readLines(sublink[2],encoding = 'utf-8')
x=html(x)
print("<tr class=\"\">")
rm(list=ls())
#보도자료 사이트
url="https://www.kha.or.kr/board/dept/list?siteGb=HOME&siteCd=HOME&rMnuGb=IMP&brdMstIdx=27&menuIdx=446"
if(!require(dplyr)) install.packages("dplyr"); library(dplyr)
if(!require(rvest)) install.packages("rvest"); library(rvest)
if(!require(stringr)) install.packages("stringr"); library(stringr)
if(!require(httr)) install.packages("httr"); library(httr)
cont = read_html(url)
cont = read_html(url)
#보도자료 사이트
url="https://www.kha.or.kr/board/dept/list"
rm(list=ls())
if(!require(RSelenium)) install.packages("RSelenium"); library(RSelenium)
if(!require(RSelenium)) install.packages("RSelenium"); library(RSelenium)
pJs = wdman::phantomjs(port=4567L)
url="http://www.dbpia.co.kr/SearchResult/AdvancedSearch?AdvancedSearchType=TOTAL&Collection=0&SearchMethod=2&SearchOption=0&SearchKeyword=%EB%B3%91%EC%9B%90%EA%B0%90%EC%97%BC&SearchOper=1&category=002008&language=154001&PublishDate=11"
x=read_html(url)
y=html_nodes(x,'.contents-warp')
y=html_nodes(y,'.titleWarp')
y
z=html_text(y)
z
x=read_html(url)
#y=html_nodes(x,'.contents-warp')
y=html_nodes(url,'.titleWarp')
#y=html_nodes(x,'.contents-warp')
y=html_nodes(x,'.titleWarp')
y
title=read_html(url)%>% html_nodes('.titleWarp')%>%html_text
title
textlink=x%>%html_nodes('.btnText')%>%html_nodes('a')
textlink
textlink=x%>%html_nodes('.btnText')
textlink
x=read_html(url)
textlink=x%>%html_nodes('.btnText')%>%html_nodes('a')
textlink
textlink=x%>%html_nodes('.btnText')
textlink=x%>%html_nodes('.contentsWrap')
textlink
title
x=read_html(url)
title=x%>% html_nodes('.titleWarp')%>%html_text
title
textlink=x%>%html_nodes('.contentsWarp')%>%html_nodes('.btnText')%>%html_nodes('a')
textlink
textlink=x%>%html_nodes('.contentsWarp')
textlink
textlink=x%>%html_nodes('.contentsWarp')%>%html_nodes('.btnText')
textlink
textlink=x%>%html_nodes('.contentsBtnWarp')%>%html_nodes('.btnText')
textlink
textlink=x%>%html_nodes('.contentsBtnWarp')%>%html_nodes('li.class')
textlink
textlink=x%>%html_nodes('.contentsBtnWarp')
textlink
url="http://www.hollys.co.kr/store/korea/korStore.do"
# 2-1. 네이버 뉴스 크롤링
url="http://news.naver.com/main/main.nhn?mode=LSD&mid=shm&sid1=102"
cont = read_html(url)
#install.packages("rvest")
library(rvest)
# 2-1. 네이버 뉴스 크롤링
url="http://news.naver.com/main/main.nhn?mode=LSD&mid=shm&sid1=102"
cont = read_html(url)
subcont = html_nodes(cont, '.lnb_today')
subcont1
subcont = html_nodes(cont, '.lnb_today')
subcont1 = html_nodes(subcont, 'a')
subcont2 = html_attr(subcont1, 'href')
subcont2
u="https://movie.naver.com/movie/bi/mi/point.nhn?code=163533#tab"
x=read_html(u)
x=html_nodes(x,'.star_score')
x
x=html_nodes(x,'.input_netizen')
x
x=read_html(u)
x=html_nodes(x,'.input_netizen')
x
url = "https://movie.naver.com/movie/bi/mi/point.nhn?code=163533#tab"
cont = read_html(url)
sub = html_nodes(cont, '.input_netizen')
sub
sub = html_nodes(cont, '.input_netizen')
cont
sub = html_nodes(cont, '.ul')
sub
sub = html_nodes(cont, '.input_netizen ')
sub
sub = html_nodes(cont, 'div')
sub
sub = html_nodes(cont, '.star_score')
sub
sub = html_nodes(cont, 'ul')
sub
sub = html_attr(cont, '.input_netizen')
sub
sub = html_nodes(cont, 'ul')
sub = html_nodes(cont, '.score_result')
sub
sub1 = html_nodes(sub, '.star_score')
sub1
score=html_text(sub1)
score
score=html_nodes(sub1,'em')
score
url = "https://movie.naver.com/movie/bi/mi/point.nhn?code=163533#tab"
cont = read_html(url)
sub = html_nodes(cont, '.score_result')
sub
sub1 = html_nodes(sub, '.star_score')
sub1
sub = html_nodes(cont, '.input_netizen')
source('C:/Users/eunse/Desktop/medical cr/1st.R', echo=TRUE)
url = "https://movie.naver.com/movie/bi/mi/point.nhn?code=163533#tab"
cont = read_html(url)
sub = html_nodes(cont, '.input_netizen')
sub
sub = html_node(cont, '.input_netizen')
sub
library(dplyr)
sub = html_nodes(cont,'body')
sub
sub = html_nodes(cont,'body')%>% html_nodes(cont, '.input_netizen')
sub = html_nodes(cont,'body')%>% html_nodes( '.input_netizen')
sub
sub = html_nodes(cont,'body')%>% html_nodes( '.input_netizen ')
sub
sub1 = html_nodes(cont, '.star_score')
sub1
sub = html_nodes(cont,'score_result')
sub
sub = html_nodes(cont,'.score_result')
sub
sub1 = html_nodes(sub, '.star_score')
sub1
sub = html_nodes(cont,'.score_result')
sub1 = html_nodes(sub, '.ul')
sub1
sub
sub = html_nodes(cont,'.input_netizen')
sub
sub = html_nodes(cont,'.input_netizen\ ')
sub
sub = html_nodes(cont,'.score_result')
sub
url = "https://movie.naver.com/movie/bi/mi/point.nhn?code=163533#tab"
cont = read_html(url)
sub = html_nodes(cont,'.score_result')
sub1 = html_nodes(sub, 'em')
sub1
url = "https://movie.naver.com/movie/bi/mi/point.nhn?code=163533#tab"
cont = read_html(url)
sub = html_nodes(cont,'.score_result')
sub1 = html_nodes(sub, 'em')
sub1
cont = readLines(url)
cont = read_html(url)
sub = html_nodes(url,'.score_reple')
cont = read_html(url)
sub = html_nodes(url,'.score_reple')
rm(list=ls())
if(!require(dplyr)) install.packages("dplyr"); library(dplyr)
if(!require(rvest)) install.packages("rvest"); library(rvest)
if(!require(stringr)) install.packages("stringr"); library(stringr)
url="https://search.naver.com/search.naver?sm=tab_dts&where=news&query=+%22%EB%B3%91%EC%9B%90%22+%22%ED%99%98%EC%9E%90%EC%95%88%EC%A0%84%22+-%22%EC%8B%A0%EC%A0%9C%ED%92%88+%EC%B6%9C%EC%8B%9C%22+-%EC%8B%A0%EA%B8%B0%EC%88%A0+-%ED%8C%8C%EC%97%85+-%EB%B3%B4%ED%97%98+-%EC%B9%98%EB%A7%A4+-%EC%BC%80%EC%9D%B4%ED%81%AC+-%ED%8F%AD%ED%96%89+-%EB%9D%BC%EC%9D%B4%ED%94%84+-%EB%B0%98%EB%A0%A4%EA%B2%AC+-%ED%97%8C%ED%98%88+-%EB%AF%B8%EC%9A%A9+-%EC%BB%A8%EC%84%A4%ED%8C%85+&oquery=%2B%ED%99%98%EC%9E%90%EC%95%88%EC%A0%84%EB%B2%95+-%ED%8C%8C%EC%97%85+-%EB%B3%B4%ED%97%98+-%EC%B9%98%EB%A7%A4+-%EC%BC%80%EC%9D%B4%ED%81%AC+-%ED%8F%AD%ED%96%89+-%EB%9D%BC%EC%9D%B4%ED%94%84+-%EB%B0%98%EB%A0%A4%EA%B2%AC+-%ED%97%8C%ED%98%88+-%EB%AF%B8%EC%9A%A9+-%EC%BB%A8%EC%84%A4%ED%8C%85+-%22%EC%8B%A0%EC%A0%9C%ED%92%88+%EC%B6%9C%EC%8B%9C%22+-%22%EC%8B%A0%EA%B8%B0%EC%88%A0+%EA%B0%9C%EB%B0%9C%22&tqi=TIkROspySEKssZwJ%2BIsssssstg0-501000&qdt=1"
cont = read_html(url)
subcont = html_nodes(cont, '.type01')
subc= html_nodes(subcont, 'dt')
subcont1 = html_nodes(subc, 'a')
subcont2 = html_attr(subcont1, 'href')
title = html_text(subcont1)
title
rm(list=ls())
if(!require(dplyr)) install.packages("dplyr"); library(dplyr)
if(!require(rvest)) install.packages("rvest"); library(rvest)
if(!require(stringr)) install.packages("stringr"); library(stringr)
url="http://www.dbpia.co.kr/SearchResult/AdvancedSearch?AdvancedSearchType=TOTAL&Collection=0&SearchMethod=2&SearchOption=0&SearchKeyword=%EB%B3%91%EC%9B%90%EA%B0%90%EC%97%BC&SearchOper=1&category=002008&language=154001&PublishDate=11"
x=read_html(url)
title=x%>% html_nodes('.titleWarp')%>%html_text
textlink=x%>%html_nodes('.contentsBtnWarp')%>%html_nodes('li.class')%>%html_nodes('a')
title
textlink
textlink=x%>%html_nodes('.listWarp')
textlink
textlink=x%>%html_nodes('.listWarp')%>%html_nodes('.btnText')
textlink
k=x%>%html_nodes('.btnText')
k
k=x%>%html_attrs('.btnText')
textlink=x%>%html_nodes('.listWarp')%>%html_nodes('ul')
textlink
p=textlink%>%html_nodes('.btnText')
p
textlink=x%>%html_nodes('.listWarp')%>%html_nodes('dl')%>%html_nodes('ul')
textlink
p=textlink%>%html_nodes('.btnText')
p
p=textlink%>%html_attr('.btnText')
p
textlink
View(ul)
View(textlink)
p=textlink%>%html_nodes('li')
p
l=p%>%html_attr('.btnText')
l
l=p%>%html_nodes('.btnText')
l
p
p
jungong=c(39, 33, 35.3, 55.5, 52.5, 57.5)
date = c('17/11/25','18/04/28', '18/06/02','18/06/23','18/09/05', '18/09/19')
df = data.frame(date,jungong)
View(df)
df[date]
df[,1]
typeof(df[,1])
class(df[,1])
plot(df[,1],df[,2])
hist(df[,1],df[,2],m)
library(ggplot2)
ggplot(data=df,aes(x=date,y=jungong))
ggplot(data=df,aes(x=date,y=jungong))+geom_point()
date = c('17/11/25','18/04/28', '18/06/02','18/06/23','18/09/05', '18/09/19')+ylim(30,80)
date = c('17/11/25','18/04/28', '18/06/02','18/06/23','18/09/05', '18/09/19')
ggplot(data=df,aes(x=date,y=jungong))+geom_point()+ylim(30,80)
ggplot(data=df,aes(x=date,y=jungong))+geom_point()+ylim(30,70)
ggplot(data=df,aes(x=date,y=jungong))+geom_line()+ylim(30,70)
ggplot(data=df,aes(x=date,y=jungong))+geom_line() #+ylim(30,70)
ggplot(data=df,aes(x=date,y=jungong))+geom_line()+geom_point() #+ylim(30,70)
df
ggplot(data=df,aes(x=date,y=jungong))+geom_line()+geom_point() #+ylim(30,70)
ggplot(data=df,aes(x=date,y=jungong,group =1))+geom_line()+geom_point() #+ylim(30,70)
ggplot(data=df,aes(x=date,y=jungong,group =1))+geom_line()+geom_point() +ylim(30,70)
colnames(df)
colnames(df)[2]='score'
colnames(df)[2]='score'
colnames(df)
ggplot(data=df,aes(x=date,y=score,group =1))+geom_line(color='pink')+geom_point(color='pink') +ylim(30,70)
ggplot(data=df,aes(x=date,y=score,group =1))+geom_line(color='red')+geom_point(size = 21,color='pink') +ylim(30,70)
ggplot(data=df,aes(x=date,y=score,group =1))+geom_line(color='red')+geom_point(size = 10,color='pink') +ylim(30,70)
ggplot(data=df,aes(x=date,y=score,group =1))+geom_line(color='red')+geom_point(size = 6,color='pink') +ylim(30,70)
ggplot(data=df,aes(x=date,y=score,group =1))+geom_line(color='red')+geom_point(size = 6,color='pink',shape = '★') +ylim(30,70)
ggplot(data=df,aes(x=date,y=score,group =1))+geom_line(color='red')+geom_point(size = 10,color='blue',shape = '★') +ylim(30,70)
ggplot(data=df,aes(x=date,y=score,group =1))+geom_line(color='red')+geom_point(size = 7,color='blue',shape = '★') +ylim(30,70)
ggplot(data=df,aes(x=date,y=score,group =1))+geom_line(color='red')+geom_point(size = 7,color='hotpink',shape = '★') +ylim(30,70)
Fibo = function(n){
if n %in% c(1,2){
return(1)
else {
return(Fibo(n-1)+Fibo(n-2))
}
}
}
Fibo = function(n){
if n %in% c(1,2){
return(1)
}
else {
return(Fibo(n-1)+Fibo(n-2))
}
}
Fibo = function(n){
if n%in%(1,2){
return(1)
}
else {
return(Fibo(n-1)+Fibo(n-2))
}
}
Fibo = function(n){
if (n %in% c(1,2)){
return(1)
}
else {
return(Fibo(n-1)+Fibo(n-2))
}
}
Fibo(30)
rm(list=ls())
if(!require(dplyr)) install.packages("dplyr"); library(dplyr)
if(!require(rvest)) install.packages("rvest"); library(rvest)
if(!require(stringr)) install.packages("stringr"); library(stringr)
url = "https://www.nhis.or.kr/wbdy/retriveWbdy01.xx?collection=open&query=환자안전관리료&range=A&realQuery=환자안전관리료&searchField=ALL&sort=DATE&startCount=0"
x = read_html(url)
title = x%>%html_nodes('.result_con')%>%html_node('a')%>%html_attr('title')#%>%html_text
date = x%>%html_nodes('.result_con')%>%html_node('span')%>%html_text
title
date
sublin
sublin = x%>%html_nodes('.result_con')%>%html_node('a')%>%html_attr('href')
sub = 'https:'
sublink = paste0(sub, sublin)
k = read_html(sublink[1])
text = k%>%html_nodes('.view_con')%>%html_text
text
k2 = read_html(sublink[2])
text2 = k%>%html_nodes('.view_con')%>%html_text
text2
sublink
k2 = read_html(sublink[2])
text2 = k2%>%html_nodes('.view_con')%>%html_text
text2
t = strsplit(text, '\r\n\r\n')
t
?gsub
t = gsub('\r\n\r\n','',text)
t
t = gsub('\t\t\t\t\t','',t)
t
t = gsub('\r\n\t','',t)
t
text = c()
for (i in 1:length(sublink)){
k = read_html(sublink[i])
t = k %>%html_nodes('.view_con')%>%html_text
t = gsub('\r\n\r\n','',t)
t = gsub('\t\t\t\t\t','',t)
t = gsub('\r\n\t','',t)
text[i] = t
}
text
text = c()
for (i in 1:length(sublink)){
k = read_html(sublink[i])
t = k %>%html_nodes('.view_con')%>%html_text
t = gsub('\r','',t)
t = gsub('\t','',t)
t = gsub('\n','',t)
text[i] = t
}
text
url = "http://www.nursenews.co.kr/main/ArticleDetailView.asp?sSection=62&idx=23188"
library(rvest)
kk = read_html(url)
getOpton('timeout')
getOption('timeout')
3e+07 < 6e+07
3e+07
1e+3
3e+07 == (30)^(07)
3e+07 < 1.5e+07
3e+07 < 9e+07
3e+07 < 1.2e+07
3e+07 < 1.2e+08
3e+07 < 1.5e+08
getwd()
getwd()
getwd()
getwd()
rm(list=ls())
getwd()
setwd("C:/Users/eunse/Desktop/DM/month")
dir()
data = read.csv("data.csv")
str(data)
d = read.csv("월별 소비자물가지수 및 혼인율.csv")
str(d)
View(d); View(data)
which(d$연도별=='1999. 06')
d[30,]
which(d$연도별=='1999.06')
nrow(d)
d = d[30:nrow(d),]
dim(data); dim(d)
colnames(data)
colnames(data)[2:10]
data = data[,-c(1,8,11)]
dim(data)
colnames(data)
data = data[,-c(7,8)]
colnames(data)[1:6] = c("10대취업율","20대취업율","30대취업율","40대취업율","50대취업율","60세이상취업율")
newdata = cbind(d,data)
View(newdata)
str(newdata)
dim(newdata)
newdata[,c(8,20,22,29,30)]
newdata[,c(8,20,22,29,30)][1]
head(newdata[,c(8,20,22,29,30)])
newdata=newdata[,-c(8,20,22,29,30)]
dim(newdata)
str(newdata)
dim(newdata)
write.csv(newdata,"yearData.csv",row.names = FALSE)
rm(list=ls())
getwd()
setwd("C:/Users/eunse/Desktop/DM/month")
dir()
data = read.csv("yearData.csv")
str(data)
dim(data
z)
dim(data)
View(data)
sum(is.na(data))
plot(data)
plot(data)
x11()
plot(data)
x11()
plot(data)
plot(data[,1:10])
plot(data[,1:8])
plot(data[,9:15])
plot(data[,23:29])
plot(data[,30:36])
plot(data[,37:43])
plot(data[,44:50])
plot(data[,1:20])
plot(data[,1:15])
par(mfrow=c(2,2))
plot(data$X10대취업율,data$chul)
plot(data$X20대취업율,data$chul)
plot(data$X30대취업율,data$chul)
plot(data$X40대취업율,data$chul)
par(mfrow=c(2,3))
plot(data$X10대취업율,data$chul)
plot(data$X20대취업율,data$chul)
plot(data$X30대취업율,data$chul)
plot(data$X40대취업율,data$chul)
plot(data$)
plot(data$X50대취업율,data$chul)
plot(data$X60세이상취업율,data$chul)
plot(data$M15_Up_Ingu,data$chul)
plot(data$F15_Up_Ingu,data$chul)
plot(data$Mgj_Ingu,data$chul)
plot(data$Fgj_Ingu,data$chul)
plot(data$M_non_gj_Ingu,data$chul)
plot(data$F_non_gj_Ingu,data$chul)
plot(data$M_gj_chamga,data$chul)
plot(data$F_gj_chamga,data$chul)
plot(data$M_silup_rate,data$chul)
plot(data$F_silup_rate,data$chul)
plot(data$M_goyong_rate,data$chul)
plot(data$F_goyong_rate,data$chul)
plot(data$농축수산물,data$chul)
plot(data$공업제품,data$chul)
plot(data$섬유제품,data$chul)
plot(data$내구재,data$chul)
plot(data$출판물,data$chul)
plot(data$석유류,data$chul)
plot(data$집세,data$chul)
plot(data$고등학교납입금,data$chul)
plot(data$전문대학납입금,data$chul)
plot(data$고등학교납입금,data$chul)
plot(data$국공립대학교납입금,data$chul)
plot(data$사립대학교납입금,data$chul)
par(mfrow=c(2,2))
plot(data$운동학원비,data$chul)
plot(data$가정학습지,data$chul)
plot(data$외국어학원비,data$chul)
plot(data$혼인율,data$chul)
model.full = lm(chul~ . , data= data)
par(mfrow=c(2,2))
plot(model.full)
sum(is.na(data))
model.full = lm(chul~ . , data= data[,-1])
par(mfrow=c(2,2))
plot(model.full)
model.con <- lm(chul ~ 1, data[,-1])
?step
model.con <- lm(chul ~ 1, data[,-1])
model.both <- step(model.full,
list(lower=model.con, upper=model.full),
direction = "both")
summary(model.both)
plot(model.both)
vif(model.both)
library(car)
vif(model.both)
seq(1,216,12)
x = 500:600
i=seq(1,100,10)
x
mean(x[i])
for (j in i){
print(j)
}
k = c()
for (j in i){
k[j]=mean(x[j:j+11])
}
k
getwd()
setwd("C:/Users/eunse/Desktop/DM/year")
dir()
dd = read.csv("연도별전처리.csv")
str(dd)
chul = c( 2765, 2334, 1961, 1985 ,1839 ,1836, 1821, 2083 ,1950, 1874 ,1879 ,1892, 2001 ,1879, 2008, 1911 ,1585, 1310)
dd = cbind(dd,chul)
model.full = lm(chul~., prepro[,-1])
model.full = lm(chul~., dd[,-1])
par(mfrow=c(2,2))
plot(model.full)
View(dd)
summary(model.full)
model.full = lm(chul~., dd[,2:18])
par(mfrow=c(2,2))
plot(model.full)
summary(model.full)
str(dd)
